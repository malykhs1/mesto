(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t=function t(n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"_hasInvalidInput",(function(){return o._inputList.some((function(e){return!e.validity.valid}))})),e(this,"toggleButtonState",(function(){o._hasInvalidInput()?o.disableSubmitButton():(o._buttonElement.classList.remove(o._submitButtonUnactive),o._buttonElement.disabled=!1)})),e(this,"disableSubmitButton",(function(){o._buttonElement.classList.add(o._submitButtonUnactive),o._buttonElement.disabled=!0})),e(this,"_showInputError",(function(e,t){var n=o._form.querySelector(".".concat(e.id,"-error"));e.classList.add(o._inputErrorClass),n.classList.add(o._errorClass),n.textContent=t})),e(this,"_hideInputError",(function(e){var t=o._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(o._inputErrorClass),t.classList.remove(o._errorClass),t.textContent=""})),e(this,"_isValid",(function(e){e.validity.valid?o._hideInputError(e):o._showInputError(e,e.validationMessage)})),e(this,"_setEventListeners",(function(){o._inputList.forEach((function(e){e.addEventListener("input",(function(){o._isValid(e),o.toggleButtonState()}))}))})),e(this,"enableValidation",(function(){o._setEventListeners(o._form),o._form.addEventListener("submit",(function(e){e.preventDefault()}))})),this._formElement=n.formElement,this._inputElement=n.inputElement,this._submitButton=n.submitButton,this._submitButtonUnactive=n.submitButtonUnactive,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._form=r,this._buttonElement=this._form.querySelector(this._submitButton),this._inputList=Array.from(this._form.querySelectorAll(this._inputElement))};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t){var n=this,o=t.data,i=t.cardSelector,u=t.userId,c=t.handlers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_toggleLIke",(function(){n._handleLikeClick(n._cardId,n.isLiked).then((function(e){n._likeButton.classList.toggle("card__like_active"),n.isLiked=!n.isLiked,n._likesCounter.textContent=e.likes.length})).catch((function(e){console.log(e)}))})),r(this,"likeCardClickByUser",(function(e){n._likes.some((function(e){return e._id===n._userId}))&&n._likeButton.classList.add("card__like_active")})),r(this,"updateLikes",(function(e){n._likesCounter.textContent=n._likes.length})),r(this,"_deleteCheck",(function(){n._userId!==n._ownerId?n._deleteButton.classList.add("card__delete-button_hiden"):n._deleteButton.classList.remove("card__delete-button_hiden")})),r(this,"_setEventListeners",(function(){n._likeButton.addEventListener("click",(function(){n._toggleLIke()})),n._deleteButton.addEventListener("click",(function(){n._handleDeleteButton()})),n._cardImage.addEventListener("click",(function(){n._handleCardClick(n._name,n._link)}))})),r(this,"deleteCard",(function(){n._element.remove(),n._element=null})),this._name=o.name,this._link=o.link,this._ownerId=o.owner._id,this._likes=o.likes,this._cardId=o._id,this._userId=u,this._cardSelector=i,this._handleCardClick=c.handleCardClick,this._handleLikeClick=c.handleLikeClick,this._handleDeleteButton=c.handleDeleteButton}var t,o;return t=e,(o=[{key:"getCardId",value:function(){return this._cardId}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardTitle=this._element.querySelector(".card__title"),this._cardImage=this._element.querySelector(".card__image"),this._likeButton=this._element.querySelector(".card__like"),this._likesCounter=this._element.querySelector(".card__likes-counter"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._deleteCheck(),this._setEventListeners(),this._element}}])&&n(t.prototype,o),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._cardSelector=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){return e._renderer(t)}))}},{key:"setItem",value:function(e){this._cardSelector.prepend(e)}}])&&i(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleCloseByOverlay",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.querySelector(".popup__close-button").addEventListener("click",(function(){e.close()})),this._popupSelector.addEventListener("click",(function(t){e._handleCloseByOverlay(t)}))}}])&&c(t.prototype,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImage=t._popupSelector.querySelector(".popup__image"),t._popupTitleImage=t._popupSelector.querySelector(".popup__title"),t}return t=u,(n=[{key:"open",value:function(e,t){f(d(u.prototype),"open",this).call(this),this._popupTitleImage.textContent=e,this._popupImage.alt=t,this._popupImage.src=t}}])&&l(t.prototype,n),u}(a);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._popupForm=t._popupSelector.querySelector(".popup__form"),t._inputList=t._popupForm.querySelectorAll(".popup__input"),t._handleFormSubmit=r,t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputObject={},this._inputList.forEach((function(t){return e._inputObject[t.name]=t.value})),this._inputObject}},{key:"setEventListeners",value:function(){var e=this;v(g(u.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){this._popupForm.reset(),v(g(u.prototype),"close",this).call(this)}}])&&m(t.prototype,n),u}(a);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupForm=t._popupSelector.querySelector(".popup__form"),t._confirmButton=t._popupSelector.querySelector(".popup__save-button"),t}return t=u,(n=[{key:"setEventListeners",value:function(){var e=this;console.log(this._popupForm),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmitCallback()})),w(I(u.prototype),"setEventListeners",this).call(this)}},{key:"setNewHandler",value:function(e){this._handleFormSubmitCallback=e}},{key:"renderButtonText",value:function(e){this._confirmButton.textContent=e?"Удаление...":"Да"}}])&&C(t.prototype,n),u}(a);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userJob=n,this._userAvatar=r}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userJob.textContent=e.about,this._userAvatar.src=e.avatar}},{key:"getUserInfo",value:function(){var e={};return e.name=this._userName.textContent,e.job=this._userJob.textContent,e.avatar=this._userAvatar.src,e}}])&&B(t.prototype,n),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q,T,x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}},{key:"getServerCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}},{key:"setAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:"likeCard",value:function(e,t){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteCardRequest",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}])&&P(t.prototype,n),e}(),U={formElement:".popup__form",inputElement:".popup__input",submitButton:".popup__save-button",submitButtonUnactive:"popup__save-button-unvalid",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},F=document.querySelector(".popup_type_id"),D=document.querySelector(".popup_type_avatar"),N=document.getElementById("form-edit-profile"),A=document.getElementById("form-edit-avatar"),V=document.querySelector(".profile__edit-button"),J=document.querySelector(".profile__avatar-button"),H=document.getElementById("name"),G=document.getElementById("job"),z=document.querySelector(".profile__name"),M=document.querySelector(".profile__job"),K=document.querySelector(".profile__avatar"),Q=document.getElementById("form-edit-card"),W=document.querySelector(".popup_type_form"),X=document.querySelector(".profile__add-button"),Y=document.querySelector(".popup_type_image"),Z=document.querySelector(".popup_type_confirm"),$=(document.querySelector(".card__image"),document.querySelector(".card__like"),document.querySelector(".elements")),ee=new x({url:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{"content-type":"application/json",authorization:"b22e628d-a32e-4f98-97fa-aa25d8506b10"}});function te(e,t){e.querySelector(".popup__save-button").textContent=t?"Сохранение...":"Сохранить"}function ne(e,t){se.open(e,t)}function re(e){var t=new o({data:e,cardSelector:"#card-template",userId:T,handlers:{handleLikeClick:function(e,t){return ee.likeCard(e,t)},handleCardClick:ne,handleDeleteButton:function(){return function(e){ae.open(),ae.setNewHandler((function(){ae.renderButtonText(!0),ee.deleteCardRequest(e.getCardId()).then((function(){e.deleteCard(),ae.close()})).catch((function(e){console.log(e)})).finally((function(){ae.renderButtonText(!1)}))}))}(t)}}}),n=t.generateCard();return t.likeCardClickByUser(n),t.updateLikes(n),n}ee.getServerCards().then((function(e){(q=new u({items:e,renderer:function(e){var t=re(e);q.setItem(t)}},$)).renderItems()})).catch((function(e){console.log(e)})),ee.getUserInfo().then((function(e){T=e._id,ce.setUserInfo(e)})).catch((function(e){console.log(e)}));var oe=new S({popupSelector:W,handleFormSubmit:function(e){te(W,!0),ee.addNewCard(e.title,e.link).then((function(e){var t=re(e);q.setItem(t)})).catch((function(e){console.log(e)})).finally((function(){te(W,!1),oe.close()}))}});oe.setEventListeners();var ie=new S({popupSelector:F,handleFormSubmit:function(e){te(F,!0),ee.setUserInfo(e.name,e.job).then((function(e){ce.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){te(F,!1),ie.close()}))}});ie.setEventListeners();var ue=new S({popupSelector:D,handleFormSubmit:function(e){te(D,!0),ee.setAvatar(e.avatar).then((function(e){ce.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){te(D,!1),ue.close()}))}});ue.setEventListeners();var ce=new R(z,M,K),ae=new j(Z);ae.setEventListeners();var se=new _(Y);se.setEventListeners(),X.addEventListener("click",(function(){oe.open()})),V.addEventListener("click",(function(){var e=ce.getUserInfo();H.value=e.name,G.value=e.job,ie.open()})),J.addEventListener("click",(function(){ue.open()})),new t(U,N).enableValidation(),new t(U,Q).enableValidation(),new t(U,A).enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlcmluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJkYXRhIiwiZm9ybSIsIl9pbnB1dExpc3QiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwiX2J1dHRvbkVsZW1lbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJfc3VibWl0QnV0dG9uVW5hY3RpdmUiLCJkaXNhYmxlZCIsImFkZCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9mb3JtIiwicXVlcnlTZWxlY3RvciIsImlkIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2lzVmFsaWQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImV2dCIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsIl9mb3JtRWxlbWVudCIsImZvcm1FbGVtZW50IiwiX2lucHV0RWxlbWVudCIsIl9zdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25VbmFjdGl2ZSIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsInVzZXJJZCIsImhhbmRsZXJzIiwiX2hhbmRsZUxpa2VDbGljayIsIl9jYXJkSWQiLCJpc0xpa2VkIiwidGhlbiIsIl9saWtlQnV0dG9uIiwidG9nZ2xlIiwiX2xpa2VzQ291bnRlciIsImxpa2VzIiwibGVuZ3RoIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjYXJkIiwiX2xpa2VzIiwicGVyc29uIiwiX2lkIiwiX3VzZXJJZCIsIl9vd25lcklkIiwiX2RlbGV0ZUJ1dHRvbiIsIl90b2dnbGVMSWtlIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2UiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJfbGluayIsIl9lbGVtZW50IiwibmFtZSIsImxpbmsiLCJvd25lciIsIl9jYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRpdGxlIiwiYWx0Iiwic3JjIiwiX2RlbGV0ZUNoZWNrIiwiU2VjdGlvbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIml0ZW0iLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlIiwiZXZlbnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX2hhbmRsZUNsb3NlQnlPdmVybGF5IiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlSW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dE9iamVjdCIsImlucHV0IiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwQ29uZmlybSIsIl9jb25maXJtQnV0dG9uIiwiX2hhbmRsZUZvcm1TdWJtaXRDYWxsYmFjayIsImFjdGlvbiIsImlzRGVsZXRpbmciLCJVc2VySW5mbyIsImpvYiIsImF2YXRhciIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiX3VzZXJBdmF0YXIiLCJhYm91dCIsImN1cnJlbnRVc2VySW5mbyIsImNhcmRMaXN0IiwiQXBpIiwiY29uZmlnIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsIl9jaGVja1Jlc3BvbnNlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBQcm9maWxlIiwicG9wdXBBdmF0YXIiLCJmb3JtUHJvZmlsZSIsImdldEVsZW1lbnRCeUlkIiwiZm9ybUF2YXRhciIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUF2YXRhckJ1dHRvbiIsIm5hbWVFZGl0Iiwiam9iRWRpdCIsImZvcm1DYXJkIiwicG9wdXBDYXJkIiwicGhvdG9FZGl0QnV0dG9uIiwicG9wdXBQaG90byIsInBvcHVwQ29uZmlybSIsImNhcmRQbGFjZXMiLCJhcGkiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwidGl0bGUiLCJwb3B1cFdpdGhJbWFnZSIsIm9wZW4iLCJjcmVhdGVOZXdFbGVtZW50IiwibGlrZUNhcmQiLCJwb3B1cFR5cGVDb25maXJtIiwic2V0TmV3SGFuZGxlciIsInJlbmRlckJ1dHRvblRleHQiLCJkZWxldGVDYXJkUmVxdWVzdCIsImdldENhcmRJZCIsImRlbGV0ZUNhcmQiLCJmaW5hbGx5IiwiY2FyZEVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJsaWtlQ2FyZENsaWNrQnlVc2VyIiwidXBkYXRlTGlrZXMiLCJnZXRTZXJ2ZXJDYXJkcyIsInNldEl0ZW0iLCJyZW5kZXJJdGVtcyIsImdldFVzZXJJbmZvIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInBvcHVwVHlwZUNhcmQiLCJhZGROZXdDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cFR5cGVQcm9maWxlIiwicG9wdXBUeXBlQXZhdGFyIiwic2V0QXZhdGFyIiwidXNlckRhdGEiXSwibWFwcGluZ3MiOiIrSUFBcUJBLEVBQ25CLFdBQVlDLEVBQU1DLEdBQU0sWSw0RkFBQSxvQ0FXTCxXQUNqQixPQUFPLEVBQUtDLFdBQVdDLE1BQUssU0FBQ0MsR0FDM0IsT0FBUUEsRUFBYUMsU0FBU0MsWUFiViw0QkFrQkosV0FDZCxFQUFLQyxtQkFDUCxFQUFLQyx1QkFFTCxFQUFLQyxlQUFlQyxVQUFVQyxPQUFPLEVBQUtDLHVCQUMxQyxFQUFLSCxlQUFlSSxVQUFXLE1BdkJYLDhCQTJCRixXQUNwQixFQUFLSixlQUFlQyxVQUFVSSxJQUFJLEVBQUtGLHVCQUN2QyxFQUFLSCxlQUFlSSxVQUFXLEtBN0JULDBCQWdDTixTQUFDVCxFQUFjVyxHQUMvQixJQUFNQyxFQUFlLEVBQUtDLE1BQU1DLGNBQVgsV0FBNkJkLEVBQWFlLEdBQTFDLFdBQ3JCZixFQUFhTSxVQUFVSSxJQUFJLEVBQUtNLGtCQUNoQ0osRUFBYU4sVUFBVUksSUFBSSxFQUFLTyxhQUNoQ0wsRUFBYU0sWUFBY1As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R0FBVyxJQUFJbkUsRUFBU25ELEVBQU1vRCxFQUFLQyxHQUduQ2tELEdBQW1CLElBQUl6RCxFQUFhK0MsR0FDMUNVLEdBQWlCbUIsb0JBR2pCLElBQU12QixHQUFpQixJQUFJakUsRUFBZTBELEdBQzFDTyxHQUFldUIsb0JBSWYvQixFQUFnQjVJLGlCQUFpQixTQUFTLFdBQ3pDeUssR0FBY3BCLFVBR2ZmLEVBQWtCdEksaUJBQWlCLFNBQVMsV0FDM0MsSUFBTStLLEVBQVdSLEdBQVNELGNBQzFCOUIsUUFBaUJ1QyxFQUFTOUgsS0FDMUJ3RixRQUFnQnNDLEVBQVMxRSxJQUN6QnVFLEdBQWlCdkIsVUFHbEJkLEVBQW9CdkksaUJBQWlCLFNBQVMsV0FDN0M2SyxHQUFnQnhCLFVBSWEsSUFBSWpMLEVBQWM0SixFQUFrQkcsR0FDNUNILG1CQUVLLElBQUk1SixFQUFjNEosRUFBa0JVLEdBQzVDVixtQkFFVSxJQUFJNUosRUFBYzRKLEVBQWtCSyxHQUM1Q0wsb0IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBkYXRhLmZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudCA9IGRhdGEuaW5wdXRFbGVtZW50O1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGRhdGEuc3VibWl0QnV0dG9uO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblVuYWN0aXZlID0gZGF0YS5zdWJtaXRCdXR0b25VbmFjdGl2ZTtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZGF0YS5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dEVsZW1lbnQpKTtcbiAgfVxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zdWJtaXRCdXR0b25VbmFjdGl2ZSk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGRpc2FibGVTdWJtaXRCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3N1Ym1pdEJ1dHRvblVuYWN0aXZlKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfSBcblxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICBfaXNWYWxpZCA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH07XG4gIH07XG5cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5fZm9ybSk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcblx0Y29uc3RydWN0b3IoeyBkYXRhLCBjYXJkU2VsZWN0b3IsIHVzZXJJZCwgaGFuZGxlcnMgfSkge1xuXHRcdHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG5cdFx0dGhpcy5fbGluayA9IGRhdGEubGluaztcblx0XHR0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG5cdFx0dGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuXHRcdHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xuXHRcdHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcblx0XHR0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG5cblx0XHQvL9Cx0LvQvtC6INGF0Y3QvdC00LvQtdGA0L7QsiDQutCw0YDRgtC+0YfQutC4XG5cdFx0dGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlcnMuaGFuZGxlQ2FyZENsaWNrO1xuXHRcdHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZXJzLmhhbmRsZUxpa2VDbGljaztcblx0XHR0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVycy5oYW5kbGVEZWxldGVCdXR0b247XG5cdH1cblxuXHRnZXRDYXJkSWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcmRJZDtcblx0fVxuXG5cdF9nZXRUZW1wbGF0ZSgpIHtcblx0XHRjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG5cdFx0XHQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG5cdFx0XHQuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXG5cdFx0XHQuY2xvbmVOb2RlKHRydWUpO1xuXHRcdHJldHVybiBjYXJkRWxlbWVudFxuXHR9XG5cblx0X3RvZ2dsZUxJa2UgPSAoKSA9PiB7XG5cdFx0dGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2NhcmRJZCwgdGhpcy5pc0xpa2VkKVxuXHRcdC50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHR0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2VfYWN0aXZlJyk7XG5cdFx0XHR0aGlzLmlzTGlrZWQgPSAhdGhpcy5pc0xpa2VkO1xuXHRcdFx0dGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gZGF0YS5saWtlcy5sZW5ndGg7XG5cdFx0fSlcblx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvcilcblx0XHR9KVxuXHR9XG5cblx0Ly/Qu9C+0LPQuNC60LAg0LrQu9C40LrQsCDQvdCwINC70LDQudC6INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8XG5cdGxpa2VDYXJkQ2xpY2tCeVVzZXIgPSAoY2FyZCkgPT4ge1xuXHRcdGlmICh0aGlzLl9saWtlcy5zb21lKHBlcnNvbiA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpKSB7XG5cdFx0XHR0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2VfYWN0aXZlJyk7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlTGlrZXMgPSAoY2FyZCkgPT4ge1xuXHRcdHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aFxuXHR9XG5cdF9kZWxldGVDaGVjayA9ICgpID0+IHsgLy/QvNC10YLQvtC0INC/0YDQvtCy0LXRgNC40YIg0YHQvtCx0YHRgtCy0LXQvdC90LjQutCwINC60LDRgNGC0L7Rh9C60Lgg0Lgg0LTQsNGB0YIg0YPQtNCw0LvQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRgyDRgtC+0LvRjNC60L4g0LXQtSDQstC70LDQtNC10LvRjNGG0YNcblx0XHRpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XG5cdFx0XHR0aGlzLl9kZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fZGVsZXRlLWJ1dHRvbl9oaWRlbicpXG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2RlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkX19kZWxldGUtYnV0dG9uX2hpZGVuJylcblx0XHR9XG5cdH1cblxuXHRfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG5cblx0XHR0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5fdG9nZ2xlTElrZSgpXG5cdFx0fSk7XG5cblx0XHR0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24oKVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXHRcblx0XHR9KTtcblx0fVxuXG5cdGdlbmVyYXRlQ2FyZCgpIHtcblx0XHR0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblx0XHR0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xuXHRcdHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG5cdFx0dGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UnKTtcblx0XHR0aGlzLl9saWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlcy1jb3VudGVyJyk7XG5cdFx0dGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlLWJ1dHRvbicpO1xuXHRcdHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuXHRcdHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cdFx0dGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG5cdFx0dGhpcy5fZGVsZXRlQ2hlY2soKVxuXHRcdHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cdFx0cmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG5cdH1cblxuXHRkZWxldGVDYXJkID0gKCkgPT4ge1xuXHRcdHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG5cdFx0dGhpcy5fZWxlbWVudCA9IG51bGw7XG5cdH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtczsgXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB9XG5cbiAgICByZW5kZXJJdGVtcygpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xuICAgIH1cblxuICAgIHNldEl0ZW0oaXRlbSkge1xuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IucHJlcGVuZChpdGVtKTsgXG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gIHBvcHVwU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKVxuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVDbG9zZUJ5T3ZlcmxheShldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICB9XG4gIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBjb25zdCBjbG9zZSA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xuICAgICAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2xvc2VCeU92ZXJsYXkoZXZ0KVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICAgIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJylcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZUltYWdlID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RpdGxlJylcbiAgICB9XG5cbiAgICBvcGVuIChuYW1lLCBsaW5rKSB7XG4gICAgICBzdXBlci5vcGVuKCk7XG4gICAgICAgIHRoaXMuX3BvcHVwVGl0bGVJbWFnZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbGluaztcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xuICAgICAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3Ioe1xuICAgICAgICBwb3B1cFNlbGVjdG9yLFxuICAgICAgICBoYW5kbGVGb3JtU3VibWl0XG4gICAgfSkge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTsgLy8g0LHQtdGA0LXQvCDQstGB0LUg0LLQvtC30LzQvtC20L3Ri9C1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC70LXQuSDQsiDRhNC+0YDQvNCw0YVcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgfVxuXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICB0aGlzLl9pbnB1dE9iamVjdCA9IHt9OyAvLyDRgdC+0LfQtNCw0LXRgiDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCLCDQsiDQutC+0YLQvtGA0YvQuSDQv9C+0LvQvtC20LjQvCDQt9C90LDRh9C10L3QuNGPINC/0L7Qu9C10LkgXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2lucHV0T2JqZWN0W2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRPYmplY3Q7IC8v0LLQvtC30LLRgNCw0YnQsNC10Lwg0L7QsdGK0LXQutGCINGD0LbQtSDRgdC+INC30L3QsNGH0LXQvdC40Y/QvNC4XG4gICAgfVxuXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gICAgXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICAgICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlLWJ1dHRvbicpXG4gICAgICB9XG4gICAgXG4gICAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fcG9wdXBGb3JtKTtcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdENhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgfVxuXG4gICAgICBzZXROZXdIYW5kbGVyKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0Q2FsbGJhY2sgPSBhY3Rpb247XG4gICAgICB9XG4gICAgXG4gICAgICByZW5kZXJCdXR0b25UZXh0KGlzRGVsZXRpbmcpIHtcbiAgICAgICAgaWYgKGlzRGVsZXRpbmcpIHtcbiAgICAgICAgICB0aGlzLl9jb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ9Cj0LTQsNC70LXQvdC40LUuLi4nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQlNCwJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXG4gICAgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IobmFtZSwgam9iLCBhdmF0YXIpIHtcbiAgICB0aGlzLl91c2VyTmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fdXNlckpvYiA9IGpvYjtcbiAgICB0aGlzLl91c2VyQXZhdGFyID0gYXZhdGFyO1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlckluZm8gPSB7fTtcbiAgICBjdXJyZW50VXNlckluZm8ubmFtZSA9IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50O1xuICAgIGN1cnJlbnRVc2VySW5mby5qb2IgPSB0aGlzLl91c2VySm9iLnRleHRDb250ZW50O1xuICAgIGN1cnJlbnRVc2VySW5mby5hdmF0YXIgPSB0aGlzLl91c2VyQXZhdGFyLnNyYztcbiAgICByZXR1cm4gY3VycmVudFVzZXJJbmZvO1xuICB9O1xufSIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJpbmZvLmpzJztcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7XG5cdGVuYWJsZVZhbGlkYXRpb24sXG5cdHBvcHVwQXZhdGFyLFxuXHRwb3B1cENvbmZpcm0sXG5cdHBvcHVwUHJvZmlsZSxcblx0Zm9ybVByb2ZpbGUsXG5cdHByb2ZpbGVFZGl0QnV0dG9uLFxuXHRwcm9maWxlQXZhdGFyQnV0dG9uLFxuXHRuYW1lRWRpdCxcblx0am9iRWRpdCxcblx0bmFtZSxcblx0am9iLFxuXHRhdmF0YXIsXG5cdGZvcm1DYXJkLFxuXHRwb3B1cENhcmQsXG5cdHBob3RvRWRpdEJ1dHRvbixcblx0cG9wdXBQaG90byxcblx0Y2FyZFBsYWNlcyxcblx0Zm9ybUF2YXRhcixcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG5cdHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI2XCIsXG5cdGhlYWRlcnM6IHtcblx0XHRcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcblx0XHRcImF1dGhvcml6YXRpb25cIjogXCJiMjJlNjI4ZC1hMzJlLTRmOTgtOTdmYS1hYTI1ZDg1MDZiMTBcIixcblx0fSxcbn0pO1xuXG4vL9CY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdGA0LLQtdGA0LBcbmxldCBjYXJkTGlzdFxuYXBpLmdldFNlcnZlckNhcmRzKClcblx0LnRoZW4oKGRhdGEpID0+IHtcblx0XHRjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcblx0XHRcdGl0ZW1zOiBkYXRhLFxuXHRcdFx0cmVuZGVyZXI6IChpdGVtKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlTmV3RWxlbWVudChpdGVtKTtcblx0XHRcdFx0Y2FyZExpc3Quc2V0SXRlbShjYXJkRWxlbWVudCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FyZFBsYWNlcyk7XG5cdFx0Y2FyZExpc3QucmVuZGVySXRlbXMoKTtcblx0fSlcblx0LmNhdGNoKChlcnJvcikgPT4geyBcblx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdH0pXG5cbi8v0J7QsdGA0LDQsdC+0YLQutCwINC00LDQvdC90YvRhSDRjtC30LXRgNCwXG5sZXQgdXNlcklkO1xuYXBpLmdldFVzZXJJbmZvKClcblx0LnRoZW4oKGRhdGEpID0+IHtcblx0XHR1c2VySWQgPSBkYXRhLl9pZDtcblx0XHR1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKVxuXHR9KVxuXHQuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHR9KVxuXG4vL9Ce0LHQvdC+0LLQu9C10L3QuNC1INC60L3QvtC/0LrQuCDQv9GA0Lgg0L7QttC40LTQsNC90LjQuCDQvtGC0LLQtdGC0LAg0L7RgiDRgdC10YDQstC10YDQsFxuZnVuY3Rpb24gcmVuZGVyTG9hZGluZyhwb3B1cFNlbGVjdG9yLCBpc0xvYWRpbmcpIHtcblx0Y29uc3Qgc3VibWl0QnV0dG9uID0gcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uJyk7XG5cdGlmKGlzTG9hZGluZykge1xuXHQgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLidcblx0fVxuXHRlbHNlIHtcblx0ICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJ1xuXHR9XG4gIH1cblxuLy8g0YTRg9C90LrRhtC40Lgg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4LCDQutC+0YLQvtGA0YPRjiDRjyDQstGL0LfQvtCy0YMg0LIg0LrQvtC70LvQsdC10LrQtVxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmQpIHtcblx0cG9wdXBUeXBlQ29uZmlybS5vcGVuKCk7XG5cdHBvcHVwVHlwZUNvbmZpcm0uc2V0TmV3SGFuZGxlcigoKSA9PiB7XG5cdCAgcG9wdXBUeXBlQ29uZmlybS5yZW5kZXJCdXR0b25UZXh0KHRydWUpO1xuXHQgIGFwaS5kZWxldGVDYXJkUmVxdWVzdChjYXJkLmdldENhcmRJZCgpKVxuXHRcdC50aGVuKCgpID0+IHtcblx0XHQgIGNhcmQuZGVsZXRlQ2FyZCgpO1xuXHRcdCAgcG9wdXBUeXBlQ29uZmlybS5jbG9zZSgpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdCAgY29uc29sZS5sb2coZXJyb3IpXG5cdFx0fSlcblx0XHQuZmluYWxseSgoKSA9PiB7XG5cdFx0ICBwb3B1cFR5cGVDb25maXJtLnJlbmRlckJ1dHRvblRleHQoZmFsc2UpO1xuXHRcdH0pXG5cdH0pO1xuICB9XG5cbi8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YEg0LrQsNGA0YLQuNC90LrQsNC80LhcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayh0aXRsZSwgbGluaykge1xuXHRwb3B1cFdpdGhJbWFnZS5vcGVuKHRpdGxlLCBsaW5rKVxufVxuXG4vL9GE0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10LpcbmZ1bmN0aW9uIGNyZWF0ZU5ld0VsZW1lbnQoZGF0YSkge1xuXHRjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuXHRcdGRhdGE6IGRhdGEsXG5cdFx0Y2FyZFNlbGVjdG9yOiAnI2NhcmQtdGVtcGxhdGUnLFxuXHRcdHVzZXJJZDogdXNlcklkLFxuXHRcdGhhbmRsZXJzOiB7XG5cdFx0XHRoYW5kbGVMaWtlQ2xpY2s6IChjYXJkSWQsIGlzTGlrZWQpID0+IHtcblx0XHRcdFx0cmV0dXJuIGFwaS5saWtlQ2FyZChjYXJkSWQsIGlzTGlrZWQpXG5cdFx0XHR9LFxuXHRcdFx0aGFuZGxlQ2FyZENsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssXG5cdFx0XHRoYW5kbGVEZWxldGVCdXR0b246ICgpID0+IGhhbmRsZURlbGV0ZUJ1dHRvbihjYXJkKSxcblx0XHR9XG5cdH0pXG5cdGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKVxuXHRjYXJkLmxpa2VDYXJkQ2xpY2tCeVVzZXIoY2FyZEVsZW1lbnQpO1xuXHRjYXJkLnVwZGF0ZUxpa2VzKGNhcmRFbGVtZW50KTtcblx0cmV0dXJuIGNhcmRFbGVtZW50XG59XG5cbi8v0J/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBwb3B1cFR5cGVDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuXHRwb3B1cFNlbGVjdG9yOiBwb3B1cENhcmQsXG5cdGhhbmRsZUZvcm1TdWJtaXQ6IChpbnB1dCkgPT4ge1xuXHRcdHJlbmRlckxvYWRpbmcocG9wdXBDYXJkLCB0cnVlKTtcblx0XHRhcGkuYWRkTmV3Q2FyZChpbnB1dC50aXRsZSwgaW5wdXQubGluaylcblx0XHRcdC50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlTmV3RWxlbWVudChkYXRhKTtcblx0XHRcdFx0Y2FyZExpc3Quc2V0SXRlbShjYXJkRWxlbWVudCk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdFx0XHR9KVxuXHRcdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0XHRyZW5kZXJMb2FkaW5nKHBvcHVwQ2FyZCwgZmFsc2UpO1xuXHRcdFx0XHRwb3B1cFR5cGVDYXJkLmNsb3NlKCk7XG5cdFx0XHR9KVxuXHR9XG59KVxucG9wdXBUeXBlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL9Cf0L7Qv9Cw0L8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuY29uc3QgcG9wdXBUeXBlUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcblx0cG9wdXBTZWxlY3RvcjogcG9wdXBQcm9maWxlLFxuXHRoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXQpID0+IHtcblx0XHRyZW5kZXJMb2FkaW5nKHBvcHVwUHJvZmlsZSwgdHJ1ZSk7XG5cdFx0YXBpLnNldFVzZXJJbmZvKGlucHV0Lm5hbWUsIGlucHV0LmpvYilcblx0XHRcdC50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdFx0fSlcblx0XHRcdC5maW5hbGx5KCgpID0+IHtcblx0XHRcdFx0cmVuZGVyTG9hZGluZyhwb3B1cFByb2ZpbGUsIGZhbHNlKVxuXHRcdFx0XHRwb3B1cFR5cGVQcm9maWxlLmNsb3NlKCk7XG5cdFx0XHR9KVxuXHR9XG59KVxucG9wdXBUeXBlUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL9Cf0L7Qv9Cw0L8g0YHQvNC10L3QsCDQsNCy0LDRgtCw0YDQsFxuY29uc3QgcG9wdXBUeXBlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuXHRwb3B1cFNlbGVjdG9yOiBwb3B1cEF2YXRhciwgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGD0Y4g0LrQvtC90YHRgtCw0L3RgtGDXG5cdGhhbmRsZUZvcm1TdWJtaXQ6IChpbnB1dCkgPT4ge1xuXHRcdHJlbmRlckxvYWRpbmcocG9wdXBBdmF0YXIsIHRydWUpO1xuXHRcdGFwaS5zZXRBdmF0YXIoaW5wdXQuYXZhdGFyKVxuXHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0dXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdFx0XHR9KVxuXHRcdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0XHRyZW5kZXJMb2FkaW5nKHBvcHVwQXZhdGFyLCBmYWxzZSlcblx0XHRcdFx0cG9wdXBUeXBlQXZhdGFyLmNsb3NlKCk7XG5cdFx0XHR9KVxuXHR9XG59KVxucG9wdXBUeXBlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vINGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAgVXNlcmluZm9cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKG5hbWUsIGpvYiwgYXZhdGFyKTtcblxuLy/Qn9C+0L/QsNC/INC60L7QvdGE0LjRgNC8XG5jb25zdCBwb3B1cFR5cGVDb25maXJtID0gbmV3IFBvcHVwQ29uZmlybShwb3B1cENvbmZpcm0pXG5wb3B1cFR5cGVDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0J/QvtC/0LDQuiDQutC70LjQutCwINC90LAg0LrQsNGA0YLQuNC90LrRg1xuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBQaG90byk7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cbi8v0LvQuNGB0YLQtdC90LXRgNGLXG5waG90b0VkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdHBvcHVwVHlwZUNhcmQub3BlbigpO1xufSk7XG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cdG5hbWVFZGl0LnZhbHVlID0gdXNlckRhdGEubmFtZTsgLy/QvdCw0L/RgNGP0LzRg9GOINC30LDQstC40YHQuNGCINC+0YIg0L3QtdC50LzQuNC90LPQsCDQsiBodG1sXG5cdGpvYkVkaXQudmFsdWUgPSB1c2VyRGF0YS5qb2I7XG5cdHBvcHVwVHlwZVByb2ZpbGUub3BlbigpO1xufSk7XG5cbnByb2ZpbGVBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdHBvcHVwVHlwZUF2YXRhci5vcGVuKCk7XG59KTtcblxuLy/QstCw0LvQuNC00LDRhtC40Y8g0L/QvtC/0LDQv9C+0LJcbmNvbnN0IHZhbGlkYXRpb25Qcm9maWxlRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZVZhbGlkYXRpb24sIGZvcm1Qcm9maWxlKTtcbnZhbGlkYXRpb25Qcm9maWxlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRpb25DYXJkRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZVZhbGlkYXRpb24sIGZvcm1DYXJkKTtcbnZhbGlkYXRpb25DYXJkRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRpb25BdmF0YXJGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoZW5hYmxlVmFsaWRhdGlvbiwgZm9ybUF2YXRhcik7XG52YWxpZGF0aW9uQXZhdGFyRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7IiwiLy/QsdC70L7QuiBjYXRjaCDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0L3QtSDQsiDQsNC/0LgsINCwINCyINC40L3QtNC10LrRgdC1INC/0YDQuCDQstGL0LfQvtCy0LUg0LzQtdGC0L7QtNCwLiBcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgICB9XG5cbiAgICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cblxuICAgIC8vINC30LDQs9GA0YPQttCw0LXQvCDQutCw0YDRgtC+0YfQutC4INGBINGB0LXRgNCy0LXRgNCwXG4gICAgZ2V0U2VydmVyQ2FyZHMoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICAgIH1cblxuICAgIC8v0L/QvtC00LPRgNGD0LbQsNC10Lwg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRgSDRgdC10YDQstC10YDQsFxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gICAgfVxuXG4gICBcbiAgICAvL9C00L7QsdCw0LLQu9GP0LXQvCDQvdC+0LLRg9GOINC60LDRgNGC0L7Rh9C60YNcbiAgICBhZGROZXdDYXJkKG5hbWUsIGxpbmspIHsgLy/QvdC40LrQsNC6INC90LUg0YHQstGP0LfQsNC90Ysg0YEg0LjQvdC/0YPRgtCw0LzQuD9cbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbGluazogbGlua1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gICAgfVxuXG4gICAgIC8v0L7QsdC90L7QstC70Y/QtdC8INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0L3QsCDRgdC10YDQstCw0LrQtVxuICAgICBzZXRVc2VySW5mbyhuYW1lLCBqb2IpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBhYm91dDogam9iXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgICB9XG5cblxuIC8v0L7QsdC90L7QstC70Y/QtdC8INCw0LLQsNGC0LDRgCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICBzZXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGF2YXRhcjogYXZhdGFyXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvL9C70LDQudC60LDQtdC8INC60LDRgNGC0L7Rh9C60YNcbiAgICBsaWtlQ2FyZChjYXJkSWQsIGlzTGlrZWQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLy/Rg9C00LDQu9GP0LXQvCDQutCw0YDRgtC+0YfQutGDXG4gICAgZGVsZXRlQ2FyZFJlcXVlc3QoY2FyZElkKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSB7XG4gICAgZm9ybUVsZW1lbnQ6ICcucG9wdXBfX2Zvcm0nLCBcbiAgICBpbnB1dEVsZW1lbnQ6ICcucG9wdXBfX2lucHV0JywgXG4gICAgc3VibWl0QnV0dG9uOiAnLnBvcHVwX19zYXZlLWJ1dHRvbicsXG4gICAgc3VibWl0QnV0dG9uVW5hY3RpdmU6ICdwb3B1cF9fc2F2ZS1idXR0b24tdW52YWxpZCcsIFxuICAgIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZScsIFxufVxuXG4vLyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0YDQvtGE0LjQu9GPXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfaWQnKTtcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2F2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGZvcm1Qcm9maWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tZWRpdC1wcm9maWxlJylcbmV4cG9ydCBjb25zdCBmb3JtQXZhdGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tZWRpdC1hdmF0YXInKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IG5hbWVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKTtcbmV4cG9ydCBjb25zdCBqb2JFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pvYicpO1xuZXhwb3J0IGNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xuZXhwb3J0IGNvbnN0IGpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19qb2InKTtcbmV4cG9ydCBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5cbmV4cG9ydCBjb25zdCB1c2VyU2VsZWN0b3JzID0ge1xuXHR1c2VyTmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxuXHR1c2VyRGVzY3JpcHRpb25TZWxlY3RvcjogJy5wcm9maWxlX19qb2InXG59XG5cbi8vINC00L7QsdCw0LLQu9GP0LXQvCDQutCw0YDRgtC40L3QutGDXG5leHBvcnQgY29uc3QgZm9ybUNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1lZGl0LWNhcmQnKVxuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2Zvcm0nKVxuZXhwb3J0IGNvbnN0IHBob3RvRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJylcblxuXG4vLyDQutC70LjQutCw0LXQvCDQv9C+INGE0L7RgtC60LVcbmV4cG9ydCBjb25zdCBwb3B1cFBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfaW1hZ2UnKTtcbmV4cG9ydCBjb25zdCBwb3B1cENvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9jb25maXJtJyk7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG5leHBvcnQgY29uc3QgY2FyZExpa2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZScpO1xuXG4vLyDQvtC/0YDQtdC00LXQu9GP0LXQvCDQvNCw0YHRgdC40LJcbmV4cG9ydCBjb25zdCBjYXJkUGxhY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzJyk7XG4iXSwic291cmNlUm9vdCI6IiJ9